<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/5.0/window.xsd"
        caption="msg://editCaption"
        class="akkount.web.operation.OperationEdit"
        datasource="operationDs"
        messagesPack="akkount.web.operation">
    <dsContext>
        <datasource id="operationDs"
                    class="akkount.entity.Operation"
                    view="operation-edit"/>
        <collectionDatasource id="categoriesDs"
                              class="akkount.entity.Category"
                              view="_minimal">
            <query>
                <![CDATA[select e from akk$Category e order by e.name]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="accountsDs"
                              class="akkount.entity.Account"
                              view="_local">
            <query>
                <![CDATA[select e from akk$Account e order by e.name]]>
            </query>
        </collectionDatasource>
    </dsContext>
    <layout expand="windowActions"
            margin="true"
            spacing="true">
        <hbox spacing="true">
            <label value="msg://dateLab"/>
            <dateField datasource="operationDs"
                       property="opDate"/>
        </hbox>
        <tabSheet id="tabSheet"
                  width="397px">
            <tab id="expenseTab"
                 caption="msg://expenseTab"
                 margin="true"
                 spacing="true">
                <iframe id="expenseFrame"
                        screen="expense-frame"/>
            </tab>
            <tab id="incomeTab"
                 caption="msg://incomeTab"
                 margin="true"
                 spacing="true">
                <iframe id="incomeFrame"
                        screen="income-frame"/>
            </tab>
            <tab id="transferTab"
                 caption="msg://transferTab"
                 margin="true"
                 spacing="true">
                <iframe id="transferFrame"
                        screen="transfer-frame"/>
            </tab>
            <tab id="debtTab"
                 caption="msg://debtTab"/>
        </tabSheet>
        <iframe id="windowActions"
                height="100%"
                screen="editWindowActions"/>
    </layout>
</window>
